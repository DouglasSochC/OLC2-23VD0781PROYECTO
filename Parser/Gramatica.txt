INICIO -> INSTRUCCIONES

INSTRUCCIONES -> INSTRUCCIONES INSTRUCCION
		| INSTRUCCION 

INSTRUCCION -> DECLARACION_VARIABLE
		| SENTENCIA_DDL
		| SENTENCIA_DML
		| LLAMAR_PROCEDURE

DECLARACION_VARIABLE -> 'DECLARE' '@' ID TIPO_DATO ';'

TIPO_DATO -> SEG_NUM
	| SEG_DATE
	| SET_STRING

SEG_NUM -> 'INT'
	| 'BIT'
	| 'DECIMAL' '(' NUMERO ',' NUMERO ')' 

SEG_DATE -> 'DATE'
	| 'DATETIME'

SEG_STRING -> 'NCHAR' '(' NUMERO ')'
	| 'NVARCHAR' '(' NUMERO ')'

SENTENCIA_DDL -> CREATE
		| ALTER
		| DROP
		| TRUNCATE

CREATE -> 'CREATE' 'DATABASE' ID ';'
	| 'CREATE' 'TABLE' ID '(' CAMPOS_TABLE ')' ';'
	| 'CREATE' 'PROCEDURE' ID '(' PARAMETROS ')' 'AS' 'BEGIN' LISTA_SENTENCIAS_DML 'END' ';'
	| 'CREATE' 'FUNCTION' ID '(' PARAMETROS ')' 'RETURN' TIPO_DATO 'AS' 'BEGIN' LISTA_SENTENCIAS_DML 'END' ';'
	
CAMPOS_TABLE -> CAMPOS_TABLE ',' ID TIPO_DATO CONSTRAIN
		| CAMPOS_TABLE ',' ID TIPO_DATO
		| ID TIPO_DATO CONSTRAIN		
		| ID TIPO_DATO

PARAMETROS -> PARAMETROS ',' '@' ID TIPO_DATO
			| '@' ID TIPO_DATO

CONSTRAIN -> 'PRIMARY KEY'
		| 'NOT NULL'
		| 'REFERENCES' ID '(' ID ')'

ALTER -> 'ALTER' 'TABLE' ID ACCION ';'

ACCION -> 'ADD' ID TIPO_DATO 
      | 'DROP' ID

DROP -> 'DROP' 'DATABASE' ID ';'
		| 'DROP' 'TABLE' ID ';'
		| 'DROP' 'PROCEDURE' ID ';'
		| 'DROP' 'FUNCTION' ID ';'

TRUNCATE -> 'TRUNCATE' 'TABLE' ID ';'

LISTA_SENTENCIAS_DML -> LISTA_SENTENCIAS_DML SENTENCIA_DML 
			| SENTENCIA_DML 

LLAMAR_PROCEDURE -> 'EXEC' ID LISTA_EXPRESIONES ';'

SENTENCIA_DML -> SELECT 
		| INSERT
		| UPDATE
		| DELETE
		| 'RETURN' EXPRESION ';'
		| EXPRESION

SELECT -> 'SELECT' MULTIPLICACION 'FROM' ID ';'
	| 'SELECT' LISTA_EXPRESIONES 'FROM' ID ';'
	| 'SELECT' '(' LISTA_EXPRESIONES ')' 'FROM' ID ';'
	| 'SELECT' LISTA_EXPRESIONES FROM ID 'WHERE' EXPRESION ';'
	| 'SELECT' '(' LISTA_EXPRESIONES ')' 'FROM' ID 'WHERE' EXPRESION ';'
	| 'SELECT' LISTA_EXPRESIONES ';'
	| 'SELECT' ID'('')' ';'
	| 'SELECT' ID'(' LISTA_EXPRESIONES ')' ';'
	| 'SELECT' ID'('')' 'FROM' ID ';'
	| 'SELECT' ID'(' LISTA_EXPRESIONES ')' 'FROM' ID ';'
	| 'SELECT' ID'('')' 'FROM' ID 'WHERE' EXPRESION ';'
	| 'SELECT' ID'(' LISTA_EXPRESIONES ')' 'FROM' ID 'WHERE' EXPRESION ';'

INSERT -> 'INSERT INTO' 'ID' '(' LISTA_EXPRESIONES ')' 'VALUES' (' LISTA_EXPRESIONES ')' ';'

UPDATE -> 'UPDATE' ID 'SET' LISTA_EXPRESIONES 'WHERE' EXPRESION ';'

DELETE -> 'DELETE FROM' ID 'WHERE' EXPRESION ';'

LISTA_EXPRESIONES -> LISTA_EXPRESIONES ',' EXPRESION
		| EXPRESION

EXPRESION -> ARITMETICOS
	| RELACIONALES
	| LOGICOS
	| LITERAL
	| '(' EXPRESION ')'
	| FUNCION_NATIVA
	| ASIGNACION
	| IDENTIFICADOR

ASIGNACION -> EXPRESION '=' EXPRESION
	   | 'SET' EXPRESION

FUNCION_NATIVA -> 'CONCATENA' '(' LISTA_EXPRESIONES ')'
		| 'SUBSTRAER' '(' EXPRESION ',' EXPRESION ',' EXPRESION ')'
		| 'HOY''('')'
		| 'CONTAR(' EXPRESION ')'
		| 'SUMA''(' EXPRESION ')'
		| 'CAST''(' EXPRESION 'AS' TIPO_DATO ')'

ARITMETICOS-> EXPRESION MAS EXPRESION
	| EXPRESION MENOS EXPRESION
	| EXPRESION POR EXPRESION
	| EXPRESION DIVIDIDO EXPRESION

RELACIONALES -> EXPRESION MAYOR EXPRESION
	| EXPRESION MENOR EXPRESION
	| EXPRESION MAYOR_IGUAL EXPRESION
	| EXPRESION MENOR_IGUAL EXPRESION
	| EXPRESION DIFERENTE EXPRESION
	| EXPRESION IGUAL_IGUAL EXPRESION
	| 'BETWEEN' EXPRESION 'AND' EXPRESION

LOGICOS -> EXPRESION AND EXPRESION
	| EXPRESION OR EXPRESION 
	| NOT EXPRESION

LITERAL -> NUMERO
	| DECIMAL 
	| FECHA
	| FECHA_HORA
	| VARCHAR
	| NULL

IDENTIFICADOR -> ID
   | ID'.'ID
   | '@'ID
